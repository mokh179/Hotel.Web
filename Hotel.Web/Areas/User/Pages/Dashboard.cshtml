@page
@model Hotel.Web.Areas.User.Pages.DashboardModel
<link rel="stylesheet" href="~/css/User/dashboard.css" />
@{
    Layout = "/Areas/User/Pages/_UserLayout.cshtml";
}
<div class="dashboard-container">
    <section class="main">

        <h2 class="welcome">Welcome back, @Model.FirstName 👋</h2>

        <div class="stats-box">
            <div class="stat-card">
                <h3>@Model.ActiveBookings</h3>
                <p>Active Bookings</p>
            </div>

            <div class="stat-card">
                <h3>@Model.PastBookings</h3>
                <p>Completed Trips</p>
            </div>

            <div class="stat-card">
                <h3>@Model.TotalBookings</h3>
                <p>Total Bookings</p>
            </div>
        </div>

        <h3 class="section-title">Recent Bookings</h3>
        <div class="recent-list">
            @if (Model.RecentBookings.Count == 0)
            {
                <p>No recent bookings.</p>
            }
            else
            {
                foreach (var b in Model.RecentBookings)
                {
                    <div class="recent-card">
                        <h4>@b.HotelName</h4>
                        <p>Room: @b.RoomName</p>
                        <p>@b.DateRange.From.ToShortDateString() → @b.DateRange.To.ToShortDateString()</p>
                    </div>
                }
            }
        </div>

        <!-- Suggested Hotels -->
        <h3 class="section-title">Suggested Hotels</h3>
        <div class="suggested-list">
            @foreach (var h in Model.SuggestedHotels)
            {
                <div class="hotel-card">
                    <h4>@h.Name</h4>
                    <p>@h.CityName - @h.CountryName</p>
                    <p>Rating: ⭐ @h.Rating</p>

                    <a asp-area="User" asp-page="/Hotels/Details" asp-route-id="@h.Id" class="btn-view">
                        View
                    </a>
                </div>
            }
        </div>

    </section>
</div>
